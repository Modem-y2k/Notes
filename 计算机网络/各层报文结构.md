# IP数据报头部结构

<table>
	<tr>
		<td align="center">0 - 3</td>
		<td align="center">4 - 8</td>
		<td colspan="2" align="center">9 - 16</td>
		<td colspan="0.5" align="center">17 - 19</td>
		<td colspan="3" align="center">20 - 24</td>
		<td colspan="0.5" align="center">25 - 31</td>
	</tr>
	<tr>
	    <td>版本</td>
	    <td>首部长度</td>
	    <td colspan="2" align="center">区分服务</td>
	    <td colspan="5" align="center">总长度</td>
	</tr >
	<tr >
	    <td colspan="4" align="center">标识</td>
	    <td colspan="0.5" align="center">标志</td>
	    <td colspan="4" align="center">片偏移</td>
	</tr>
	<tr>
	    <td colspan="2" align="center">生存时间</td>
	    <td colspan="2" align="center">协议</td>
	    <td colspan="5" align="center">首部校验和</td>
	</tr>
	<tr>
		<td colspan="9" align="center">源地址</td>
	</tr>
	<tr>
		<td colspan="9" align="center">目的地址</td>
	</tr>
	<tr>
		<td colspan="8" align="center">可选字段</td>
		<td colspan="0.5" align="center">填充</td>
	</tr>
</table>

| 版本      | 描述 |
| ----------- | ----------- |
| IPv4      | 第4代IP协议 |
| IPv6   | 第6代IP协议      |

| 首部长度      | 描述 |
| ----------- | ----------- |
| 固定部分      | 固定`20`字节 |
| 可变部分   | 最大`40`字节   |

| 区分服务      | 描述 |
| ----------- | ----------- |
| 服务类型      | 旧版名称 |
| 获取更好的服务   | 用途      |

| 总长度      | 描述 |
| ----------- | ----------- |
| 总长度      | 首部与数据之和 |
| 获取更好的服务   | 用途      |

| 标识      | 描述 |
| ----------- | ----------- |
| MTU      | 超过MTU就启用 |
|+1|每发出一数据包就+1|
| 重组   | 标识就是为了重组  |

| 标志      | 描述 |
| ----------- | ----------- |
| R      | `Reserved bit` 无用途 |
| DF   | `Don’t fragment` `1`表示不分片,`0`表示分片|
|MF|`More fragment` `1`表示更多分片,`0`表示无更多分片|

| 片偏移      | 描述 |
| ----------- | ----------- |
| MTU      | 超过MTU就启用 |
|超过的部分被划分 | 首位为偏移位      |

| 生存时间      | 描述 |
| ----------- | ----------- |
| `-1`      | 经过`1`台路由，减一次生存时间 |
| 255   | 最大值      |
|64|推荐值|


# Eth数据报头部结构
<table>
	<tr>
	    <td>目的地址</td>
	    <td>源地址</td>
	    <td colspan="2" align="center">服务类型</td>
	</tr >
</table>
